<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FROGGLE - Presale Platform</title>
    <meta name="description" content="Join the FROGGLE presale - The Frog Prince of Solana">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="FROGGLE - Presale Platform">
    <meta property="og:description" content="Get early access to the most ribbiting token on Solana!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://froggle.xyz">
    <meta property="og:image" content="https://froggle.xyz/froggle.png">
    
    <!-- JSON-LD for Token Info -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "FROGGLE Token",
        "description": "The community-driven frog meme token on Solana blockchain",
        "brand": {
            "@type": "Brand",
            "name": "FROGGLE"
        },
        "offers": {
            "@type": "Offer",
            "availability": "https://schema.org/InStock",
            "price": "0.001",
            "priceCurrency": "SOL"
        }
    }
    </script>
    
    <!-- Delight Purple Font -->
    <style>
        @font-face {
            font-family: 'Delight Purple';
            src: url('fonts/Delight Purple.otf') format('opentype'),
                 url('fonts/Delight Purple.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }
    </style>
    
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        frogLight: '#C8A2C8',    // Viola chiaro per pulsanti
                        frogMedium: '#6A0DAD',   // Viola medio per sfondi primari
                        frogDark: '#4B0076',     // Viola scuro per sfondi secondari
                        frogWhite: '#FFFFFF',    // Bianco per testo su sfondo scuro
                        frogBlack: '#000000',    // Nero per testo su sfondo chiaro
                    },
                    borderRadius: {
                        'cartoon': '2rem',
                    },
                    boxShadow: {
                        'cartoon': '0.5rem 0.5rem 0 #4B0076',
                        'cartoon-inner': 'inset 0.25rem 0.25rem 0 rgba(255,255,255,0.2), inset -0.25rem -0.25rem 0 rgba(0,0,0,0.2)'
                    },
                    fontFamily: {
                        'delight': ['"Delight Purple"', 'cursive'],
                    }
                }
            }
        }
    </script>
    
    <!-- Solana and Anchor libraries -->
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
    <script src="https://unpkg.com/@project-serum/anchor@0.25.0/dist/browser/anchor.min.js"></script>
    <script src="https://unpkg.com/@solana/wallet-adapter-base@latest/lib/index.iife.js"></script>
    <script src="https://unpkg.com/@solana/wallet-adapter-wallets@latest/lib/index.iife.js"></script>
    
    <!-- Custom Fonts per stile cartoon -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Bubblegum+Sans&family=Nunito:wght@400;700&family=Boogaloo&family=Patrick+Hand&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Bubblegum+Sans&family=Nunito:wght@400;700&family=Boogaloo&family=Patrick+Hand&display=swap');
        
        html {
            scroll-behavior: smooth;
            scroll-snap-type: y proximity;
        }
        
        body {
            font-family: 'Delight Purple', sans-serif;
            background-color: #4B0076; /* Melanzana Profondo */
            background-image: url('INSERISCI-URL-IMMAGINE-SFONDO.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
            color: #FFFFFF; /* Testo bianco per contrasto */
        }
        
        section {
            scroll-snap-align: start;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2rem 1rem;
        }
        
        h1, h2, h3, .pixel-font {
            font-family: 'Fredoka One', cursive;
            letter-spacing: 2px;
            text-shadow: 3px 3px 0px #4B0076; /* Melanzana Profondo */
            color: #FFFFFF; /* Testo bianco per titoli */
        }
        
        p, li, a, input, label, span, div:not(h1):not(h2):not(h3):not(.pixel-font) {
            font-family: 'Delight Purple', sans-serif;
            color: #FFFFFF; /* Testo bianco per altri elementi */
        }
        
        .btn {
            transition: all 0.2s ease;
            transform-origin: center;
            border: 3px solid #FFFFFF;
            box-shadow: 0.35rem 0.35rem 0 rgba(0,0,0,0.4);
            font-family: 'Delight Purple', cursive;
            color: #FFFFFF; /* Testo bianco per i pulsanti */
        }
        
        .btn:hover {
            transform: scale(1.05) rotate(-2deg);
            box-shadow: 0.5rem 0.5rem 0 rgba(0,0,0,0.3);
        }
        
        .btn:active {
            transform: scale(0.95) rotate(2deg);
            box-shadow: 0.2rem 0.2rem 0 rgba(0,0,0,0.5);
        }
        
        .cartoon-border {
            border: 4px solid #FFFFFF;
            border-radius: 1.5rem;
            box-shadow: 0.5rem 0.5rem 0 rgba(0,0,0,0.4);
        }
        
        .jump-animation {
            animation: jump 1s infinite alternate;
        }
        
        @keyframes jump {
            0% { transform: translateY(0) rotate(-3deg); }
            100% { transform: translateY(-20px) rotate(3deg); }
        }
        
        /* Progress bar animation */
        @keyframes progress {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        /* Tooltip styles */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 140px;
            background-color: #C084FC;
            color: #4C1D95;
            text-align: center;
            border-radius: 1rem;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 150%;
            left: 50%;
            margin-left: -75px;
            opacity: 0;
            transition: opacity 0.3s;
            border: 3px solid white;
            font-weight: bold;
        }
        
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -10px;
            border-width: 10px;
            border-style: solid;
            border-color: white transparent transparent transparent;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* Progress bar styles */
        .progress-container {
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 2rem;
            position: relative;
            margin: 15px 0;
            height: 30px;
            width: 100%;
            border: 4px solid white;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #6A0DAD 0%, #C8A2C8 100%);
            height: 100%;
            border-radius: 1.25rem;
            transition: width 0.4s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: inset 0.25rem 0.25rem 0 rgba(255,255,255,0.2), inset -0.25rem -0.25rem 0 rgba(0,0,0,0.2);
            text-shadow: 2px 2px 0 #4B0076;
        }

        /* Stile a pallini per le liste */
        ul li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 10px;
        }
        
        ul li::before {
            content: "";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background-color: #C8A2C8;
            border-radius: 50%;
        }
        
        /* Sezioni personalizzate con sfondi diversi */
        #hero {
            background-image: url('immagine 1.png');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(75, 0, 118, 0.7); /* Viola scuro con opacità */
            z-index: 1;
        }
        
        #hero > * {
            position: relative;
            z-index: 2;
        }
        
        #presale {
            background-image: url('INSERISCI-URL-IMMAGINE-PRESALE.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        #presale::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(67, 56, 202, 0.8); /* Aggiornato con frogIndigo */
            z-index: 1;
        }
        
        #presale > * {
            position: relative;
            z-index: 2;
        }
        
        #tokenomics {
            background-image: url('INSERISCI-URL-IMMAGINE-TOKENOMICS.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        #tokenomics::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(67, 56, 202, 0.8); /* Aggiornato con frogIndigo */
            z-index: 1;
        }
        
        #tokenomics > * {
            position: relative;
            z-index: 2;
        }
        
        /* Elementi cartoon per cards */
        .cartoon-card {
            border: 4px solid white;
            border-radius: 1.5rem;
            box-shadow: 0.5rem 0.5rem 0 rgba(0,0,0,0.4);
            transform: rotate(-1deg);
            transition: all 0.3s ease;
            position: relative;
            background-image: linear-gradient(135deg, rgba(255,255,255,0.1) 25%, transparent 25%, 
                                transparent 50%, rgba(255,255,255,0.1) 50%, 
                                rgba(255,255,255,0.1) 75%, transparent 75%, transparent);
            background-size: 30px 30px;
        }
        
        .cartoon-card::before {
            content: "";
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            border: 2px dashed #FFFFFF;
            border-radius: 2rem;
            z-index: -1;
            pointer-events: none;
        }
        
        .cartoon-card:hover {
            transform: rotate(1deg) scale(1.02);
            box-shadow: 0.65rem 0.65rem 0 rgba(0,0,0,0.3);
        }
        
        /* Bubble speech per disclaimer */
        .speech-bubble {
            position: relative;
            background: #6A0DAD; /* frogMedium */
            border-radius: 1.5rem;
            border: 4px solid #FFFFFF;
            box-shadow: 0.5rem 0.5rem 0 rgba(0,0,0,0.4);
            /* Rimuovo il clip-path che taglia il contenuto */
            padding: 1.5rem;
            margin-bottom: 2.5rem;
            overflow: visible;
        }
        
        .speech-bubble:before {
            content: "";
            position: absolute;
            bottom: -20px;
            left: 40px;
            border-width: 20px 0 0 20px;
            border-style: solid;
            border-color: #FFFFFF transparent transparent transparent;
            display: block;
            width: 0;
            z-index: 1;
        }
        
        .speech-bubble:after {
            content: "";
            position: absolute;
            bottom: -12px;
            left: 44px;
            border-width: 16px 0 0 16px;
            border-style: solid;
            border-color: #6A0DAD transparent transparent transparent; /* frogMedium */
            display: block;
            width: 0;
            z-index: 2;
        }
        
        /* Stile per le card principali */
        .fancy-box {
            border: 4px solid #FFFFFF;
            border-radius: 1.5rem;
            position: relative;
            box-shadow: 0.5rem 0.5rem 0 rgba(0,0,0,0.4);
            overflow: hidden;
        }
        
        .fancy-box::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #6A0DAD, #C8A2C8, #FFFFFF, #6A0DAD);
            background-size: 300% 100%;
            animation: gradientBorder 3s ease infinite;
        }
        
        @keyframes gradientBorder {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Stile per riquadri a zig-zag */
        .zigzag-box {
            position: relative;
            background: #6A0DAD; /* frogMedium */
            padding: 1.5rem;
            margin: 2rem 0;
        }
        
        .zigzag-box::before {
            content: "";
            position: absolute;
            top: -15px;
            left: 0;
            right: 0;
            height: 15px;
            background: linear-gradient(-45deg, #6A0DAD 7px, transparent 0), 
                        linear-gradient(45deg, #6A0DAD 7px, transparent 0);
            background-position: left top;
            background-repeat: repeat-x;
            background-size: 15px 15px;
        }
        
        .zigzag-box::after {
            content: "";
            position: absolute;
            bottom: -15px;
            left: 0;
            right: 0;
            height: 15px;
            background: linear-gradient(-45deg, transparent 7px, #6A0DAD 0), 
                        linear-gradient(45deg, transparent 7px, #6A0DAD 0);
            background-position: left bottom;
            background-repeat: repeat-x;
            background-size: 15px 15px;
        }
        
        /* Stile per le card con bordo animato */
        .animated-border-box {
            position: relative;
            border-radius: 1.5rem;
            background: #4B0076; /* frogDark */
            z-index: 0;
            padding: 1.5rem;
            overflow: hidden;
        }
        
        .animated-border-box::before {
            content: '';
            position: absolute;
            z-index: -2;
            left: -50%;
            top: -50%;
            width: 200%;
            height: 200%;
            background-color: #6A0DAD; /* frogMedium */
            background-repeat: no-repeat;
            background-position: 0 0;
            background-image: conic-gradient(transparent, #FFFFFF, transparent 30%);
            animation: rotate 4s linear infinite;
        }
        
        .animated-border-box::after {
            content: '';
            position: absolute;
            z-index: -1;
            left: 6px;
            top: 6px;
            width: calc(100% - 12px);
            height: calc(100% - 12px);
            background: #4B0076; /* frogDark */
            border-radius: 1.2rem;
        }
        
        @keyframes rotate {
            100% {
                transform: rotate(1turn);
            }
        }
        
        .rotateY-180 {
            transform: rotateY(180deg);
        }
        
        /* Stile a pallini per le liste */
        ul li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 10px;
        }
        
        ul li::before {
            content: "";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background-color: #C8A2C8;
            border-radius: 50%;
        }
        
        /* Sezioni personalizzate con sfondi diversi */
        #hero {
            background-image: url('immagine 1.png');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(75, 0, 118, 0.7); /* Viola scuro con opacità */
            z-index: 1;
        }
        
        #hero > * {
            position: relative;
            z-index: 2;
        }
        
        #presale {
            background-image: url('INSERISCI-URL-IMMAGINE-PRESALE.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        #presale::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(67, 56, 202, 0.8); /* Aggiornato con frogIndigo */
            z-index: 1;
        }
        
        #presale > * {
            position: relative;
            z-index: 2;
        }
        
        #tokenomics {
            background-image: url('INSERISCI-URL-IMMAGINE-TOKENOMICS.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        #tokenomics::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(67, 56, 202, 0.8); /* Aggiornato con frogIndigo */
            z-index: 1;
        }
        
        #tokenomics > * {
            position: relative;
            z-index: 2;
        }
        
        /* Elementi cartoon per cards */
        .cartoon-card {
            border: 4px solid white;
            border-radius: 1.5rem;
            box-shadow: 0.5rem 0.5rem 0 rgba(0,0,0,0.4);
            transform: rotate(-1deg);
            transition: all 0.3s ease;
        }
        
        .cartoon-card:hover {
            transform: rotate(1deg) scale(1.02);
        }
        
        /* Bubble speech per disclaimer */
        .speech-bubble {
            position: relative;
            background: #6A0DAD; /* frogMedium */
            border-radius: 1.5rem;
            border: 4px solid #FFFFFF;
            box-shadow: 0.5rem 0.5rem 0 rgba(0,0,0,0.4);
        }
        
        .speech-bubble:before {
            content: "";
            position: absolute;
            bottom: -20px;
            left: 40px;
            border-width: 20px 0 0 20px;
            border-style: solid;
            border-color: white transparent transparent transparent;
            display: block;
            width: 0;
        }
        
        .speech-bubble:after {
            content: "";
            position: absolute;
            bottom: -12px;
            left: 44px;
            border-width: 16px 0 0 16px;
            border-style: solid;
            border-color: #6A0DAD transparent transparent transparent; /* frogMedium */
            display: block;
            width: 0;
        }
        
        .rotateY-180 {
            transform: rotateY(180deg);
        }
        
        #coinContainer {
            perspective: 1000px;
        }
        
        #coinFrogSide, #coinTokenSide {
            backface-visibility: hidden;
        }
        
        .coin-flip-animation {
            animation: coinFlip 2s forwards;
        }
        
        @keyframes coinFlip {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(720deg); }
        }
        
        /* Elemento Ul rimosso - evita duplicazione */
        
        /* Sezioni personalizzate con sfondi diversi */
        #hero {
            background-image: url('immagine 1.png');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        /* Bubble button styles with 3D effect */
        .bubble-btn {
            background-color: #C8A2C8; /* frogLight */
            color: #4B0076; /* frogDark */
            border: 3px solid #FFFFFF;
            border-radius: 999px;
            padding: 0.75rem 1.5rem;
            font-family: 'Delight Purple', cursive;
            font-size: 1.25rem;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 6px 0 #4B0076, 0 8px 10px rgba(0,0,0,0.3);
            text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .bubble-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: rgba(255,255,255,0.2);
            border-radius: 999px 999px 0 0;
            pointer-events: none;
        }
        
        .bubble-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 9px 0 #4B0076, 0 12px 15px rgba(0,0,0,0.3);
        }
        
        .bubble-btn:active {
            transform: translateY(3px);
            box-shadow: 0 3px 0 #4B0076, 0 4px 5px rgba(0,0,0,0.3);
        }
        
        /* Jelly button */
        .jelly-btn {
            background-color: #6A0DAD; /* frogMedium */
            color: #FFFFFF;
            border: none;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            font-weight: bold;
            text-transform: uppercase;
            position: relative;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #4B0076; /* frogDark */
            cursor: pointer;
            overflow: hidden;
        }
        
        .jelly-btn:hover {
            animation: jelly 0.5s;
        }
        
        @keyframes jelly {
            0%, 100% { transform: scale(1, 1); }
            25% { transform: scale(1.1, 0.9); }
            50% { transform: scale(0.9, 1.1); }
            75% { transform: scale(1.05, 0.95); }
        }
        
        .jelly-btn:active {
            top: 4px;
            box-shadow: 0 0 0 #4B0076;
        }
        
        /* Rainbow button */
        .rainbow-btn {
            background: linear-gradient(90deg, #6A0DAD, #C8A2C8, #FFFFFF, #6A0DAD);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: #4B0076;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            padding: 0.75rem 1.5rem;
            position: relative;
            z-index: 1;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        
        .rainbow-btn::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            right: 2px;
            bottom: 2px;
            background: #4B0076; /* frogDark */
            border-radius: 6px;
            z-index: -1;
        }
        
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .rainbow-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 10px rgba(0,0,0,0.3);
        }
        
        .rainbow-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 3px rgba(0,0,0,0.3);
        }
    </style>
    
    <!-- Aggiungiamo il CSS per l'animazione della lingua della rana -->
    <style>
        @keyframes tongueExtend {
            0% { height: 0; }
            50% { height: 100px; }
            100% { height: 0; }
        }
        
        .tongue-animation {
            animation: tongueExtend 0.3s ease-out;
        }
        
        .rotateY-180 {
            transform: rotateY(180deg);
        }
        
        #coinContainer {
            perspective: 1000px;
        }
        
        #coinFrogSide, #coinTokenSide {
            backface-visibility: hidden;
        }
        
        .coin-flip-animation {
            animation: coinFlip 2s forwards;
        }
        
        @keyframes coinFlip {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(720deg); }
        }
    </style>
    
    <!-- CSS update for all buttons -->
    <style>
        .bubble-btn, .jelly-btn, .btn-primary, .btn-secondary, .rainbow-btn, .amount-btn {
            background-color: #C8A2C8; /* frogLight - Viola chiaro per pulsanti */
            color: #4B0076; /* frogDark - Testo viola scuro sui pulsanti */
            transition: all 0.3s ease;
        }
        
        .bubble-btn:hover, .jelly-btn:hover, .btn-primary:hover, .btn-secondary:hover, .rainbow-btn:hover, .amount-btn:hover {
            background-color: #AA8DAA; /* Una versione più scura del viola chiaro per hover */
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- Modal Disclaimer (NFA/DYOR) -->
    <div id="disclaimerModal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50">
        <div class="speech-bubble bg-frogMedium max-w-md mx-4">
            <h2 class="text-white text-2xl mb-4 pixel-font">RIBBIT! DISCLAIMER</h2>
            <p class="mb-4 text-lg text-white">$FROGGLE is a meme coin with no intrinsic value or financial expectation.</p>
            <p class="mb-4 text-white">This is <span class="font-bold text-white">NOT FINANCIAL ADVICE</span>. Please <span class="font-bold text-white">DO YOUR OWN RESEARCH</span> before participating.</p>
            <button id="acceptDisclaimer" class="w-full bg-frogLight hover:bg-opacity-80 text-frogDark font-bold py-2 px-4 rounded-cartoon btn">
                I UNDERSTAND, LET'S RIBBIT!
            </button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-frogMedium z-40 border-b-4 border-frogLight">
        <div class="container mx-auto px-4 py-3 flex flex-col md:flex-row justify-center items-center">
            <a href="#hero" class="text-white font-bold text-2xl pixel-font mb-2 md:mb-0 md:absolute md:left-4">$FROGGLE</a>
            <div class="flex space-x-6 md:space-x-8 justify-center mx-auto">
                <a href="#presale" class="text-white hover:text-frogLight text-lg md:text-xl font-bold">Presale</a>
                <a href="#tokenomics" class="text-white hover:text-frogLight text-lg md:text-xl font-bold">Tokenomics</a>
                <a href="#howtoclaim" class="text-white hover:text-frogLight text-lg md:text-xl font-bold">How to Claim</a>
            </div>
            <div class="mt-2 md:mt-0 md:absolute md:right-4">
                <button id="connectWalletBtn" class="bg-frogLight text-frogDark px-4 py-1 rounded-full font-bold hover:bg-opacity-80 btn">Connect Wallet</button>
            </div>
        </div>
        <!-- Sfondo decorativo sotto il menu -->
        <div class="h-2 bg-gradient-to-r from-frogLight via-white to-frogLight"></div>
    </nav>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-purple-900 to-indigo-900 text-white py-20 px-4" style="background-image: url('immagine 1.png'); background-size: cover; background-position: center; position: relative;">
        <!-- Overlay con trasparenza bassa per migliorare la leggibilità del testo -->
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(76, 29, 149, 0.4);"></div>
        
        <div class="container mx-auto relative z-10">
            <div class="flex justify-end">
                <div class="max-w-md flex flex-col items-center md:items-end text-center md:text-right mr-0 md:mr-8 lg:mr-16">
                    <h1 class="text-5xl md:text-6xl font-bold mb-4 text-white">$FROGGLE</h1>
                    <p class="text-xl md:text-2xl mb-8 text-white">La moneta meme numero 1 sulla blockchain Solana</p>
                    
                    <a href="#presale" class="bubble-btn w-full bg-frogFuchsia text-white">
                        Partecipa al Presale
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Presale Section -->
    <section id="presale" style="background-image: url('immagine 1.png'); background-size: cover; background-position: center; position: relative;">
        <!-- Overlay scuro per migliorare la leggibilità del testo -->
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(75, 0, 118, 0.85); z-index: 1;"></div>
        
        <div class="container mx-auto relative z-10">
            <div class="flex flex-col md:flex-row items-center justify-between gap-8">
                <!-- Box presale a sinistra, più piccolo -->
                <div class="md:w-1/2 max-w-md">
                    <div class="bg-white rounded-3xl p-6 shadow-lg border-4 border-frogLight">
                        <h2 class="text-3xl text-center mb-6 text-frogBlack font-bold">Stage 1</h2>
                        
                        <!-- Progress Bar -->
                        <div class="mb-6">
                            <div class="h-6 bg-white rounded-full overflow-hidden border-2 border-frogLight">
                                <div class="h-full bg-frogLight" style="width: 17%;">
                                    <span class="float-right mr-2 text-frogDark font-bold leading-6">17%</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Price Display -->
                        <div class="flex justify-between mb-8">
                            <div class="text-center">
                                <p class="text-frogBlack mb-1 text-sm">Price now</p>
                                <p class="text-xl font-black text-frogBlack">0.00098$</p>
                            </div>
                            <div class="text-center">
                                <p class="text-frogBlack mb-1 text-sm">Listing price</p>
                                <div class="flex items-center">
                                    <p class="text-xl font-black text-frogBlack">0.00600$</p>
                                    <span class="ml-2 text-xl font-bold text-frogMedium">X6</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 1 -->
                        <div class="mb-4">
                            <h3 class="text-base font-semibold text-frogBlack mb-2">Step 1: Choose currency</h3>
                            <div class="flex gap-2">
                                <div class="w-3/4 bg-white border-2 border-frogLight rounded-full p-2 flex items-center justify-center">
                                    <span class="font-bold text-frogBlack">SOLANA</span>
                                </div>
                                <button class="w-1/4 bg-frogDark text-white font-bold rounded-full p-2 hover:bg-opacity-80 transition-all text-sm" disabled>
                                    CHAIN
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 2 -->
                        <div class="mb-4">
                            <h3 class="text-base font-semibold text-frogBlack mb-2">Step 2: Put sum of tokens you want to invest</h3>
                            <div class="flex items-center gap-2 mb-2">
                                <div class="flex-1">
                                    <input type="number" id="solAmount" placeholder="1.0000" class="w-full bg-white border-2 border-frogLight rounded-full p-2 text-lg text-frogBlack font-bold">
                                </div>
                                <div>
                                    <span class="text-lg font-bold text-frogBlack">SOL</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="flex-1">
                                    <input type="text" id="tokenAmount" readonly placeholder="0" class="w-full bg-white border-2 border-frogLight rounded-full p-2 text-lg text-frogBlack font-bold">
                                </div>
                                <div class="flex items-center">
                                    <img src="sfondo1.png" alt="FROGGLE" class="w-6 h-6 rounded-full mr-1">
                                    <span class="text-lg font-bold text-frogBlack">FROGGLE</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Buy Button -->
                        <button id="buyButton" class="w-full bg-frogLight hover:bg-opacity-90 text-frogDark text-xl font-black py-2 px-6 rounded-full shadow-lg transition-all mb-4">
                            BUY $FROGGLE
                        </button>
                        
                        <!-- Wallet Info -->
                        <div class="text-center text-frogBlack mb-3 text-sm">
                            <p>Wallet: <span id="walletAddress">...</span></p>
                            <p class="text-xs text-frogBlack mt-1">
                                If you use Trust Wallet it only works correctly with native SOL tokens
                            </p>
                        </div>
                        
                        <!-- Connect/Manage Buttons -->
                        <div class="flex gap-2">
                            <button id="manageWalletBtn" class="w-1/2 bg-frogDark text-white font-bold py-2 px-4 rounded-full hover:bg-opacity-80 transition-all text-sm">
                                MANAGE
                            </button>
                            <button id="connectWalletBtn" class="w-1/2 bg-frogLight text-frogDark font-bold py-2 px-4 rounded-full hover:bg-opacity-80 transition-all text-sm">
                                CONNECT WALLET
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Immagine a destra -->
                <div class="md:w-1/2 flex justify-center">
                    <img src="immagine2.png" alt="FROGGLE Mascot" class="max-w-full rounded-xl shadow-xl" style="max-height: 600px;">
                </div>
            </div>
        </div>
    </section>
    
    <!-- Add JavaScript for calculating token amount -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const solInput = document.getElementById('solAmount');
            const tokenOutput = document.getElementById('tokenAmount');
            const currentPrice = 0.00098; // $ per token
            
            solInput.addEventListener('input', function() {
                const solAmount = parseFloat(solInput.value) || 0;
                // Convert SOL to USD (using a placeholder exchange rate of $100 per SOL)
                const usdValue = solAmount * 100;
                // Calculate token amount based on current price
                const tokenAmount = usdValue / currentPrice;
                
                // Format with commas for thousands
                tokenOutput.value = Math.floor(tokenAmount).toLocaleString();
            });
        });
    </script>

    <!-- Aggiungiamo una sezione per spiegare dove vanno i fondi -->
    <div class="container mx-auto max-w-3xl mb-12 px-4">
        <div class="speech-bubble bg-frogPurple">
            <h3 class="text-frogYellow text-xl mb-4 text-center">WHERE YOUR FUNDS GO</h3>
            <p class="text-white mb-4">Transparency is important to us. Here's how the presale funds are managed:</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
                <div class="fancy-box bg-frogIndigo bg-opacity-40 p-4">
                    <h4 class="text-frogYellow font-bold mb-2">During Presale</h4>
                    <p class="text-white text-sm mb-2">All SOL from purchases is sent to a secure escrow smart contract:</p>
                    <div class="bg-frogIndigo p-2 rounded overflow-hidden mb-2">
                        <code class="text-xs text-frogAccent break-all">
                            9YxvANCGh8kpnD5RL48CpzA5QAzVPuYeaLbYqdEmaJc3
                        </code>
                    </div>
                    <p class="text-white text-sm">The funds are locked until the presale ends on June 1, 2025.</p>
                </div>
                
                <div class="fancy-box bg-frogIndigo bg-opacity-40 p-4">
                    <h4 class="text-frogYellow font-bold mb-2">After Presale</h4>
                    <p class="text-white text-sm mb-4">The collected SOL will be allocated as follows:</p>
                    <div class="flex items-center mb-2">
                        <div class="w-4 h-4 bg-frogAccent mr-2"></div>
                        <span class="text-white text-sm">60% - Liquidity Provision</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-4 h-4 bg-frogYellow mr-2"></div>
                        <span class="text-white text-sm">40% - Development & Marketing</span>
                    </div>
                </div>
            </div>
            
            <p class="text-white text-sm mb-2">The tokens you purchase will be automatically distributed to your wallet according to the vesting schedule outlined in the "How to Claim" section.</p>
            <p class="text-white text-sm">You can track all transactions on <a href="https://solscan.io/token/5Y3FEjkBzDLyrTq4y895B7DhFVVek9tc2EWjD2HLBrTv" class="text-frogYellow underline" target="_blank">Solscan</a> for full transparency.</p>
        </div>
    </div>

    <!-- Tokenomics Section -->
    <section id="tokenomics" style="background-image: url('immagine 1.png'); background-size: cover; background-position: center; position: relative;">
        <!-- Overlay scuro per migliorare la leggibilità del testo -->
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(75, 0, 118, 0.85); z-index: 1;"></div>
        
        <div class="container mx-auto relative z-10">
            <h2 class="text-4xl text-center mb-12 text-white pixel-font">TOKENOMICS</h2>
            
            <!-- Tokenomics content -->
            <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Token Supply -->
                <div class="fancy-box p-6 bg-frogDeep bg-opacity-60">
                    <h3 class="text-2xl mb-6 text-white text-center">Token Supply</h3>
                    <ul class="space-y-4">
                        <li class="text-white">Total Supply: <span class="font-bold">1 Billion FROGGLE</span></li>
                        <li class="text-white">Presale Allocation: <span class="font-bold">40% (400M FROGGLE)</span></li>
                        <li class="text-white">Liquidity Pool: <span class="font-bold">30% (300M FROGGLE)</span></li>
                        <li class="text-white">Community Rewards: <span class="font-bold">20% (200M FROGGLE)</span></li>
                        <li class="text-white">Team & Development: <span class="font-bold">10% (100M FROGGLE)</span></li>
                    </ul>
                </div>
                
                <!-- Pie Chart for Token Distribution -->
                <div class="flex flex-col justify-center items-center p-6 bg-frogDeep bg-opacity-60 rounded-xl border-2 border-white">
                    <!-- SVG pie chart for token distribution -->
                    <div class="relative">
                        <svg width="280" height="280" viewBox="0 0 100 100">
                            <!-- Presale - 40% (144 degrees) -->
                            <path d="M50 50 L50 0 A50 50 0 0 1 95.1 69.1 Z" fill="#C8A2C8">
                                <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite" />
                            </path>
                            <!-- Liquidity - 30% (108 degrees) -->
                            <path d="M50 50 L95.1 69.1 A50 50 0 0 1 0 50 Z" fill="#AA8DAA">
                                <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite" begin="0.6s" />
                            </path>
                            <!-- Community - 20% (72 degrees) -->
                            <path d="M50 50 L0 50 A50 50 0 0 1 50 0 Z" fill="#6A0DAD">
                                <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite" begin="1.2s" />
                            </path>
                            <!-- Team - 10% (36 degrees) - completing the circle -->
                            <path d="M50 50 L50 100 A50 50 0 0 1 0 50 Z" fill="#4B0076">
                                <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite" begin="1.8s" />
                            </path>
                            <!-- Center circle -->
                            <circle cx="50" cy="50" r="20" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="1" />
                            <!-- Center text -->
                            <text x="50" y="50" font-size="6" fill="#4B0076" text-anchor="middle" dominant-baseline="middle" font-weight="bold">FROGGLE</text>
                        </svg>
                    </div>
                    
                    <!-- Token Distribution Key -->
                    <div class="grid grid-cols-2 gap-4 mt-6">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-[#C8A2C8] mr-2 rounded-full"></div>
                            <span class="text-white">Presale: 40%</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-[#AA8DAA] mr-2 rounded-full"></div>
                            <span class="text-white">Liquidity: 30%</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-[#6A0DAD] mr-2 rounded-full"></div>
                            <span class="text-white">Community: 20%</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-[#4B0076] mr-2 rounded-full"></div>
                            <span class="text-white">Team & Dev: 10%</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Vesting Schedule -->
            <div class="max-w-5xl mx-auto mt-8">
                <div class="fancy-box p-6 bg-frogDeep bg-opacity-60 mt-8">
                    <h3 class="text-2xl mb-6 text-white text-center">Vesting Schedule</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="p-4 bg-frogPurple bg-opacity-40 rounded-xl border border-white">
                            <h4 class="text-xl text-white text-center mb-3">Presale Tokens</h4>
                            <p class="text-white text-center">50% at launch,<br>50% over 3 months</p>
                        </div>
                        <div class="p-4 bg-frogPurple bg-opacity-40 rounded-xl border border-white">
                            <h4 class="text-xl text-white text-center mb-3">Team Tokens</h4>
                            <p class="text-white text-center">Locked for 6 months,<br>then vested over 1 year</p>
                        </div>
                        <div class="p-4 bg-frogPurple bg-opacity-40 rounded-xl border border-white">
                            <h4 class="text-xl text-white text-center mb-3">Community Rewards</h4>
                            <p class="text-white text-center">Released gradually<br>over 2 years</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Token utility -->
            <div class="max-w-4xl mx-auto mt-12 fancy-box p-6 bg-frogDeep bg-opacity-60">
                <h3 class="text-2xl mb-6 text-white text-center">Token Utility</h3>
                <p class="text-white mb-4">$FROGGLE is a community-driven token with the following utilities:</p>
                <ul class="space-y-3">
                    <li class="text-white">Access to exclusive community events and giveaways</li>
                    <li class="text-white">Voting rights on community proposals</li>
                    <li class="text-white">Trading and liquidity providing on Solana DEXes</li>
                    <li class="text-white">Future staking rewards and yield farming opportunities</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- How to Claim Section -->
    <section id="howtoclaim" class="bg-gradient-to-b from-frogDeep to-frogIndigo">
        <div class="container mx-auto">
            <h2 class="text-4xl text-center mb-8 text-white">HOW TO CLAIM</h2>
            
            <div class="max-w-3xl mx-auto">
                <div class="bg-frogPurple border-2 border-frogGold rounded-lg p-8 mb-8">
                    <h3 class="text-xl mb-6 text-frogGold">Token Release Schedule</h3>
                    <p class="mb-4">After the presale ends on June 1, 2025, your $FROGGLE tokens will be released according to this schedule:</p>
                    
                    <div class="mb-6">
                        <div class="flex justify-between mb-2">
                            <span class="text-white">Initial Release:</span>
                            <span class="text-frogGold">50% of your tokens</span>
                        </div>
                        <div class="progress-container h-6">
                            <div class="progress-bar" style="width: 50%;">50%</div>
                        </div>
                    </div>
                    
                    <div class="space-y-4 mb-6">
                        <p class="font-bold text-white">Monthly Releases:</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p class="text-frogGold">Month 1: +5%</p>
                                <p class="text-frogGold">Month 2: +5%</p>
                                <p class="text-frogGold">Month 3: +5%</p>
                                <p class="text-frogGold">Month 4: +5%</p>
                                <p class="text-frogGold">Month 5: +5%</p>
                            </div>
                            <div>
                                <p class="text-frogGold">Month 6: +5%</p>
                                <p class="text-frogGold">Month 7: +5%</p>
                                <p class="text-frogGold">Month 8: +5%</p>
                                <p class="text-frogGold">Month 9: +5%</p>
                                <p class="text-frogGold">Month 10: +5%</p>
                            </div>
                        </div>
                    </div>
                    
                    <p class="text-sm text-gray-300">Every month, a new portion of your tokens will become available for claiming. This gradual release helps maintain a healthy token economy.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-frogPurple p-6 rounded-lg border border-frogGold text-center">
                        <div class="text-4xl mb-4">1</div>
                        <h3 class="text-xl mb-4 text-frogGold">Connect Wallet</h3>
                        <p class="mb-4">Use the same wallet you used for the presale purchase</p>
                    </div>
                    <div class="bg-frogPurple p-6 rounded-lg border border-frogGold text-center">
                        <div class="text-4xl mb-4">2</div>
                        <h3 class="text-xl mb-4 text-frogGold">Check Eligibility</h3>
                        <p class="mb-4">Verify your available tokens to claim based on the schedule</p>
                    </div>
                    <div class="bg-frogPurple p-6 rounded-lg border border-frogGold text-center">
                        <div class="text-4xl mb-4">3</div>
                        <h3 class="text-xl mb-4 text-frogGold">Claim Tokens</h3>
                        <p class="mb-4">Use the claim function to receive your tokens directly to your wallet</p>
                    </div>
                </div>
                
                <!-- Claim Widget (For after presale) -->
                <div class="max-w-md mx-auto mt-12 bg-frogPurple border-2 border-frogGold rounded-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl mb-6 text-frogGold text-center">Claim Your $FROGGLE</h3>
                        
                        <!-- Claim Status -->
                        <div id="claimWalletStatus" class="mb-6 p-4 bg-frogIndigo bg-opacity-70 rounded-lg text-center">
                            <p class="text-white">Please connect your wallet to check claim status</p>
                        </div>
                        
                        <!-- Claim Button (Disabled until presale ends) -->
                        <button id="claimButton" class="w-full bg-gray-600 text-gray-300 font-bold py-3 px-4 rounded-lg" disabled>
                            PRESALE STILL ACTIVE
                        </button>
                        
                        <p class="text-sm text-center mt-4 text-gray-400">Claiming will be available after the presale ends on June 1, 2025</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="bg-gradient-to-b from-frogIndigo to-frogDeep py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl text-center mb-8 text-white">FAQ</h2>
            
            <div class="max-w-3xl mx-auto">
                <div class="bg-frogPurple border-2 border-frogGold rounded-lg p-8 mb-8">
                    <h3 class="text-xl mb-6 text-frogGold">Frequently Asked Questions</h3>
                    <p class="mb-4">Here are some common questions about our presale and tokenomics:</p>
                    
                    <div class="mb-6">
                        <h4 class="text-white mb-2">What is the presale all about?</h4>
                        <p class="text-white">The presale is our way of raising funds to support the development and marketing of our meme coin. We're excited to share our vision with you!</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="text-white mb-2">How much can I buy during the presale?</h4>
                        <p class="text-white">You can buy up to 5 SOL worth of FROGGLE tokens during the presale. The more you buy, the more tokens you'll receive!</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="text-white mb-2">What's the difference between early bird and regular presale?</h4>
                        <p class="text-white">Early bird buyers get a 15% bonus on their first 50M tokens purchased. This is a limited-time offer!</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="text-white mb-2">How long is the presale?</h4>
                        <p class="text-white">The presale runs from May 1, 2025, to June 1, 2025. Don't miss out!</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="text-white mb-2">How can I claim my tokens after the presale ends?</h4>
                        <p class="text-white">You'll be able to claim your tokens after the presale ends. We'll send you an email with instructions on how to do this.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-frogDeep text-white py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-5xl mx-auto">
                <div class="text-center mb-8">
                    <h3 class="text-2xl mb-4 text-white">JOIN THE COMMUNITY</h3>
                    <p class="text-lg mb-6 text-white">Hop into our community and be part of the FROGGLE revolution!</p>
                    <div class="flex justify-center space-x-6">
                        <a href="#" class="bg-frogFuchsia text-white p-3 rounded-full hover:bg-opacity-80 transition-all">
                            Twitter
                        </a>
                        <a href="#" class="bg-frogFuchsia text-white p-3 rounded-full hover:bg-opacity-80 transition-all">
                            Telegram
                        </a>
                        <a href="#" class="bg-frogFuchsia text-white p-3 rounded-full hover:bg-opacity-80 transition-all">
                            Discord
                        </a>
                    </div>
                </div>
                
                <div class="text-center text-sm opacity-70">
                    <p class="text-white mb-2">$FROGGLE is a meme coin with no intrinsic value or financial expectation.</p>
                    <p class="text-white mb-4">This is NOT financial advice. Please DYOR before participating.</p>
                    <p class="text-white">&copy; 2025 FROGGLE. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Configuration Constants
        const PROGRAM_ID_DEVNET = "Hvw1fSv47Xfg6w1xZVrayw3xopxjEvQCV8gq8LosuYhv";
        const TOKEN_MINT = "5Y3FEjkBzDLyrTq4y895B7DhFVVek9tc2EWjD2HLBrTv";
        const ESCROW_ACCOUNT = "9YxvANCGh8kpnD5RL48CpzA5QAzVPuYeaLbYqdEmaJc3";
        const PRICE_LAMPORTS = 1_000_000; // 0.001 SOL per FROGGLE
        const DISCOUNT_BPS = 1500; // 15% discount
        const HARD_CAP = 400_000_000; // 400M tokens
        
        // Presale dates
        const PRESALE_START = new Date("2025-05-01T12:00:00Z");
        const PRESALE_END = new Date("2025-06-01T12:00:00Z");
        
        // Global state
        let wallet = null;
        let connection = null;
        let program = null;
        let tokensSoldSoFar = 0;
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Disclaimer Modal
            const disclaimerModal = document.getElementById('disclaimerModal');
            const acceptButton = document.getElementById('acceptDisclaimer');
            
            // Check if user has already accepted disclaimer
            if (!localStorage.getItem('disclaimerAccepted')) {
                disclaimerModal.classList.remove('hidden');
            } else {
                disclaimerModal.classList.add('hidden');
            }
            
            acceptButton.addEventListener('click', function() {
                localStorage.setItem('disclaimerAccepted', 'true');
                disclaimerModal.classList.add('hidden');
            });
            
            // Connect wallet button
            const connectWalletBtn = document.getElementById('connectWalletBtn');
            connectWalletBtn.addEventListener('click', connectWallet);
            
            // Amount buttons
            document.querySelectorAll('.amount-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const amount = parseFloat(this.getAttribute('data-amount'));
                    document.getElementById('solAmount').value = amount;
                    updateAmounts(amount);
                });
            });
            
            // Custom amount input
            const solAmountInput = document.getElementById('solAmount');
            solAmountInput.addEventListener('input', function() {
                const amount = parseFloat(this.value) || 0;
                updateAmounts(amount);
            });
            
            // Buy button
            const buyButton = document.getElementById('buyButton');
            buyButton.addEventListener('click', buyTokens);
            
            // Copy address buttons
            document.getElementById('copyAddress').addEventListener('click', function() {
                copyToClipboard(this.innerText, 'copyTooltip', 'Copied!');
            });
            
            document.getElementById('copyTokenAddress').addEventListener('click', function() {
                copyToClipboard(this.innerText, 'tokenTooltip', 'Copied!');
            });
            
            document.getElementById('copyEscrowAddress').addEventListener('click', function() {
                copyToClipboard(this.innerText, 'escrowTooltip', 'Copied!');
            });
            
            // Initialize countdown
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // Initialize Solana connection
            initializeSolana();
        });
        
        // Initialize Solana connection
        async function initializeSolana() {
            try {
                // Connect to Solana devnet (change to mainnet-beta for production)
                connection = new solanaWeb3.Connection(
                    "https://api.devnet.solana.com",
                    'confirmed'
                );
                
                // Update presale progress
                updatePresaleProgress();
                
                // Check periodically for updates
                setInterval(updatePresaleProgress, 30000);
            } catch (error) {
                console.error("Failed to initialize Solana connection:", error);
            }
        }
        
        // Connect wallet
        async function connectWallet() {
            try {
                // Check if Phantom is installed
                if (window.solana && window.solana.isPhantom) {
                    // Connect to Phantom
                    wallet = window.solana;
                    await wallet.connect();
                    
                    // Update UI
                    const walletStatus = document.getElementById('walletStatus');
                    const buyButton = document.getElementById('buyButton');
                    const connectWalletBtn = document.getElementById('connectWalletBtn');
                    
                    walletStatus.innerHTML = `
                        <p class="text-white mb-2">Connected: <span class="text-frogGreen">${shortenAddress(wallet.publicKey.toString())}</span></p>
                        <p class="text-white">Balance: <span id="walletBalance" class="text-frogGreen">Loading...</span></p>
                    `;
                    
                    connectWalletBtn.innerText = shortenAddress(wallet.publicKey.toString());
                    
                    // Enable buy button
                    buyButton.disabled = false;
                    buyButton.classList.remove('bg-gray-600', 'text-gray-300');
                    buyButton.classList.add('bg-frogGreen', 'text-frogNight');
                    
                    // Update wallet balance
                    updateWalletBalance();
                    
                    // Also update claim status if applicable
                    updateClaimStatus();
                } else {
                    alert("Phantom wallet not found! Please install Phantom to continue.");
                    window.open("https://phantom.app/", "_blank");
                }
            } catch (error) {
                console.error("Error connecting wallet:", error);
                alert("Failed to connect wallet: " + error.message);
            }
        }
        
        // Update wallet balance
        async function updateWalletBalance() {
            if (!wallet || !wallet.publicKey) return;
            
            try {
                const balance = await connection.getBalance(wallet.publicKey);
                const solBalance = balance / solanaWeb3.LAMPORTS_PER_SOL;
                
                document.getElementById('walletBalance').innerText = `${solBalance.toFixed(4)} SOL`;
            } catch (error) {
                console.error("Error fetching wallet balance:", error);
                document.getElementById('walletBalance').innerText = "Error";
            }
        }
        
        // Update presale progress
        async function updatePresaleProgress() {
            try {
                // In a real implementation, this would fetch from the presale contract
                // For demo purposes, we'll simulate progress
                const tokensSold = Math.floor(Math.random() * 150_000_000); // Simulate between 0 and 150M tokens sold
                tokensSoldSoFar = tokensSold;
                
                // Update progress bar
                const progressPercentage = (tokensSold / HARD_CAP) * 100;
                const progressBar = document.getElementById('presaleProgress');
                progressBar.style.width = `${progressPercentage}%`;
                progressBar.innerText = `${progressPercentage.toFixed(1)}%`;
                
                // Update tokens sold display
                document.getElementById('tokensSold').innerText = tokensSold.toLocaleString();
            } catch (error) {
                console.error("Error updating presale progress:", error);
            }
        }
        
        // Update countdown timer
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = PRESALE_END - now;
            
            if (distance < 0) {
                // Presale has ended
                document.getElementById("days").innerText = "00";
                document.getElementById("hours").innerText = "00";
                document.getElementById("minutes").innerText = "00";
                document.getElementById("seconds").innerText = "00";
                
                // Enable claim button if presale has ended
                const claimButton = document.getElementById('claimButton');
                claimButton.disabled = false;
                claimButton.classList.remove('bg-gray-600', 'text-gray-300');
                claimButton.classList.add('bg-frogGreen', 'text-frogNight');
                claimButton.innerText = "CLAIM TOKENS";
                
                return;
            }
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            document.getElementById("days").innerText = days.toString().padStart(2, '0');
            document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
            document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');
            document.getElementById("seconds").innerText = seconds.toString().padStart(2, '0');
        }
        
        // Update amounts based on SOL input
        function updateAmounts(solAmount) {
            // Calculate token amount (1 SOL = 1000 FROGGLE)
            const isEarlyBird = tokensSoldSoFar < 50_000_000;
            let pricePerToken = PRICE_LAMPORTS / solanaWeb3.LAMPORTS_PER_SOL;
            
            if (isEarlyBird) {
                // Apply early bird discount
                pricePerToken = pricePerToken * (1 - (DISCOUNT_BPS / 10000));
            }
            
            const tokenAmount = Math.floor(solAmount / pricePerToken);
            const bonusAmount = isEarlyBird ? Math.floor(tokenAmount * (DISCOUNT_BPS / 10000)) : 0;
            const totalAmount = tokenAmount + bonusAmount;
            
            // Update UI
            document.getElementById('tokenAmount').innerText = tokenAmount.toLocaleString() + " FROGGLE";
            document.getElementById('bonusAmount').innerText = bonusAmount.toLocaleString() + " FROGGLE";
            document.getElementById('totalAmount').innerText = totalAmount.toLocaleString() + " FROGGLE";
        }
        
        // Buy tokens
        async function buyTokens() {
            if (!wallet || !wallet.publicKey) {
                alert("Please connect your wallet first!");
                return;
            }
            
            const solAmount = parseFloat(document.getElementById('solAmount').value);
            if (isNaN(solAmount) || solAmount <= 0) {
                alert("Please enter a valid SOL amount!");
                return;
            }
            
            // Show transaction status
            const txStatus = document.getElementById('txStatus');
            txStatus.classList.remove('hidden');
            
            try {
                // In una implementazione reale, questo chiamerebbe l'istruzione di acquisto sul contratto di prevendita
                // Creazione della transazione per inviare SOL all'ESCROW_ACCOUNT
                const transaction = new solanaWeb3.Transaction().add(
                    solanaWeb3.SystemProgram.transfer({
                        fromPubkey: wallet.publicKey,
                        toPubkey: new solanaWeb3.PublicKey(ESCROW_ACCOUNT),
                        lamports: solAmount * solanaWeb3.LAMPORTS_PER_SOL
                    })
                );
                
                // Impostazione del blocco recente per la commissione di rete
                transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
                transaction.feePayer = wallet.publicKey;
                
                // Log per far vedere dove vanno i fondi
                console.log("Sending", solAmount, "SOL to escrow account:", ESCROW_ACCOUNT);
                
                // Nella versione reale, qui avremmo il seguente flusso:
                // 1. L'utente firma la transazione
                // 2. La transazione viene inviata alla blockchain
                // 3. L'escrow contract distribuisce i token al wallet dell'utente
                // 4. Il SOL rimane nell'escrow fino al completamento della prevendita
                // 5. Dopo la prevendita, i fondi SOL vengono utilizzati per:
                //    - 60% per aggiungere liquidità
                //    - 40% per lo sviluppo del progetto e marketing
                
                // Per ora, simula una transazione
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Generate fake transaction ID
                const txId = 'TX_' + Math.random().toString(36).substr(2, 9).toUpperCase();
                
                // Update transaction link
                const txLink = document.getElementById('txLink');
                txLink.href = `https://solscan.io/tx/${txId}?cluster=devnet`;
                
                // Update presale progress
                tokensSoldSoFar += Math.floor(solAmount / (PRICE_LAMPORTS / solanaWeb3.LAMPORTS_PER_SOL));
                updatePresaleProgress();
                
                // Aggiorna il saldo del wallet
                updateWalletBalance();
                
                // Mostra messaggio di successo
                setTimeout(() => {
                    alert("Purchase successful! Your FROGGLE tokens will be available to claim after the presale ends.\n\nYour SOL has been sent to the Presale Escrow account.");
                    txStatus.classList.add('hidden');
                }, 2000);
            } catch (error) {
                console.error("Error buying tokens:", error);
                alert("Failed to buy tokens: " + error.message);
                
                // Hide transaction status
                txStatus.classList.add('hidden');
            }
        }
        
        // Update claim status
        async function updateClaimStatus() {
            if (!wallet || !wallet.publicKey) return;
            
            const claimWalletStatus = document.getElementById('claimWalletStatus');
            
            // In a real implementation, this would check the buyer's claim record
            // For demo purposes, we'll simulate a purchase
            if (Math.random() > 0.5) {
                claimWalletStatus.innerHTML = `
                    <p class="text-white mb-2">You have purchased: <span class="text-frogGreen">50,000 FROGGLE</span></p>
                    <p class="text-white mb-2">Available to claim: <span class="text-frogGreen">0 FROGGLE</span></p>
                    <p class="text-white">Next claim: <span class="text-frogGreen">After presale ends</span></p>
                `;
            } else {
                claimWalletStatus.innerHTML = `
                    <p class="text-white">No purchases found for this wallet</p>
                `;
            }
        }
        
        // Helper: Copy to clipboard
        function copyToClipboard(text, tooltipId, successMessage) {
            navigator.clipboard.writeText(text).then(function() {
                const tooltip = document.getElementById(tooltipId);
                const originalText = tooltip.innerText;
                tooltip.innerText = successMessage;
                
                setTimeout(function() {
                    tooltip.innerText = originalText;
                }, 2000);
            });
        }
        
        // Helper: Shorten address
        function shortenAddress(address) {
            return address.slice(0, 4) + '...' + address.slice(-4);
        }
    </script>

    <!-- Solana Web3.js -->
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
    
    <!-- FROGGLE Presale Client -->
    <script src="js/presale-client.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Inizializza la connessione Solana
            const connection = new solanaWeb3.Connection(
                "https://api.devnet.solana.com",
                'confirmed'
            );
            
            // Indirizzi del programma e token (sostituisci con quelli effettivi dopo il deploy)
            const programId = new solanaWeb3.PublicKey("72GwxfPbBNW92VLqnbGFJEjXXttbqzEddARViUK5PTY2");
            const tokenMint = new solanaWeb3.PublicKey("5Y3FEjkBzDLyrTq4y895B7DhFVVek9tc2EWjD2HLBrTv");
            const escrowAccount = new solanaWeb3.PublicKey("5Y3FEjkBzDLyrTq4y895B7DhFVVek9tc2EWjD2HLBrTv"); // Esempio, da sostituire
            
            // Riferimento globale al client
            let presaleClient = null;
            
            // Riferimento al wallet
            let wallet = null;
            
            // Elementi UI
            const connectButton = document.getElementById('connectWalletBtn');
            const buyButton = document.getElementById('buyTokensBtn');
            const claimButton = document.getElementById('claimTokensBtn');
            const amountInput = document.getElementById('tokenAmount');
            const statusElement = document.getElementById('statusMessage');
            
            // Impostazione iniziale
            updatePresaleInfo();
            setInterval(updatePresaleInfo, 30000); // Aggiorna ogni 30 secondi
            
            // Connessione wallet
            connectButton.addEventListener('click', async function() {
                try {
                    if (!window.solana) {
                        showStatus('Per favore installa Phantom Wallet', 'error');
                        return;
                    }
                    
                    // Richiedi connessione
                    wallet = window.solana;
                    await wallet.connect();
                    
                    // Inizializza il client con il wallet
                    presaleClient = new FrogglePresaleClient(
                        connection, 
                        wallet,
                        programId,
                        tokenMint,
                        escrowAccount
                    );
                    
                    await presaleClient.initialize();
                    
                    // Aggiorna UI
                    connectButton.textContent = 'Wallet Connesso';
                    connectButton.disabled = true;
                    buyButton.disabled = false;
                    
                    // Mostra indirizzo
                    const walletAddress = wallet.publicKey.toString();
                    document.getElementById('walletAddress').textContent = 
                        walletAddress.substring(0, 4) + '...' + walletAddress.substring(walletAddress.length - 4);
                    
                    // Aggiorna UI con il saldo
                    await updateWalletBalance();
                    await updateTokenBalance();
                    
                    showStatus('Wallet connesso con successo!', 'success');
                } catch (error) {
                    console.error('Errore durante la connessione al wallet:', error);
                    showStatus('Errore durante la connessione al wallet', 'error');
                }
            });
            
            // Acquisto token
            buyButton.addEventListener('click', async function() {
                if (!presaleClient) {
                    showStatus('Connetti prima il wallet', 'error');
                    return;
                }
                
                const amount = parseInt(amountInput.value);
                if (isNaN(amount) || amount <= 0) {
                    showStatus('Inserisci un importo valido', 'error');
                    return;
                }
                
                showStatus('Elaborazione acquisto...', 'info');
                
                try {
                    const result = await presaleClient.buyTokens(amount);
                    if (result.success) {
                        showStatus(result.message, 'success');
                        
                        // Mostra link all'explorer
                        const explorerLink = document.createElement('a');
                        explorerLink.href = `https://explorer.solana.com/tx/${result.signature}?cluster=devnet`;
                        explorerLink.textContent = 'Visualizza transazione';
                        explorerLink.target = '_blank';
                        explorerLink.className = 'text-purple-400 underline';
                        
                        statusElement.appendChild(document.createElement('br'));
                        statusElement.appendChild(explorerLink);
                        
                        // Aggiorna saldi
                        await updateWalletBalance();
                        await updateTokenBalance();
                        await updatePresaleInfo();
                    } else {
                        showStatus(result.message, 'error');
                    }
                } catch (error) {
                    console.error('Errore durante l\'acquisto:', error);
                    showStatus('Errore durante l\'acquisto: ' + error.message, 'error');
                }
            });
            
            // Claim token
            claimButton.addEventListener('click', async function() {
                if (!presaleClient) {
                    showStatus('Connetti prima il wallet', 'error');
                    return;
                }
                
                showStatus('Elaborazione claim...', 'info');
                
                try {
                    const result = await presaleClient.claimTokens();
                    if (result.success) {
                        showStatus(result.message, 'success');
                        
                        // Mostra link all'explorer
                        const explorerLink = document.createElement('a');
                        explorerLink.href = `https://explorer.solana.com/tx/${result.signature}?cluster=devnet`;
                        explorerLink.textContent = 'Visualizza transazione';
                        explorerLink.target = '_blank';
                        explorerLink.className = 'text-purple-400 underline';
                        
                        statusElement.appendChild(document.createElement('br'));
                        statusElement.appendChild(explorerLink);
                        
                        // Aggiorna saldi
                        await updateTokenBalance();
                    } else {
                        showStatus(result.message, 'error');
                    }
                } catch (error) {
                    console.error('Errore durante il claim:', error);
                    showStatus('Errore durante il claim: ' + error.message, 'error');
                }
            });
            
            // Aggiorna saldo SOL
            async function updateWalletBalance() {
                if (!wallet || !wallet.publicKey) return;
                
                try {
                    const balance = await connection.getBalance(wallet.publicKey);
                    const solBalance = balance / solanaWeb3.LAMPORTS_PER_SOL;
                    document.getElementById('walletBalance').textContent = solBalance.toFixed(4) + ' SOL';
                } catch (error) {
                    console.error('Errore nel recupero del saldo SOL:', error);
                    document.getElementById('walletBalance').textContent = 'Errore';
                }
            }
            
            // Aggiorna saldo token FROGGLE
            async function updateTokenBalance() {
                if (!presaleClient) return;
                
                try {
                    const balance = await presaleClient.getTokenBalance();
                    document.getElementById('tokenBalance').textContent = balance.toLocaleString() + ' FROGGLE';
                } catch (error) {
                    console.error('Errore nel recupero del saldo token:', error);
                    document.getElementById('tokenBalance').textContent = 'Errore';
                }
            }
            
            // Aggiorna info presale
            async function updatePresaleInfo() {
                try {
                    // Crea un client temporaneo se non è stato inizializzato
                    const client = presaleClient || new FrogglePresaleClient(
                        connection, 
                        null,
                        programId,
                        tokenMint,
                        escrowAccount
                    );
                    
                    if (!presaleClient) {
                        await client.initialize();
                    }
                    
                    const info = await client.getPresaleInfo();
                    
                    // Aggiorna UI con le informazioni presale
                    document.getElementById('presalePriceValue').textContent = info.price + ' SOL';
                    document.getElementById('presaleDiscountValue').textContent = info.discount + '%';
                    document.getElementById('presaleCapValue').textContent = info.hardCap.toLocaleString() + ' FROGGLE';
                    document.getElementById('presaleSoldValue').textContent = info.totalSold.toLocaleString() + ' FROGGLE';
                    
                    // Aggiorna barra di avanzamento
                    const progressBar = document.getElementById('presaleProgress');
                    progressBar.style.width = info.percentComplete + '%';
                    document.getElementById('presaleProgressText').textContent = info.percentComplete.toFixed(1) + '%';
                    
                    // Stato presale
                    const statusIndicator = document.getElementById('presaleStatus');
                    if (info.isActive) {
                        statusIndicator.textContent = 'ATTIVO';
                        statusIndicator.className = 'bg-green-500 text-white px-2 py-1 rounded';
                        buyButton.disabled = !wallet;
                        claimButton.disabled = true;
                    } else {
                        const now = Math.floor(Date.now() / 1000);
                        if (now < info.startDate.getTime() / 1000) {
                            statusIndicator.textContent = 'IN ATTESA';
                            statusIndicator.className = 'bg-yellow-500 text-white px-2 py-1 rounded';
                            buyButton.disabled = true;
                            claimButton.disabled = true;
                        } else {
                            statusIndicator.textContent = 'TERMINATO';
                            statusIndicator.className = 'bg-red-500 text-white px-2 py-1 rounded';
                            buyButton.disabled = true;
                            claimButton.disabled = !wallet;
                        }
                    }
                    
                    // Date
                    document.getElementById('presaleStartDate').textContent = formatDate(info.startDate);
                    document.getElementById('presaleEndDate').textContent = formatDate(info.endDate);
                    
                    // Timer se attivo
                    if (info.isActive && info.remainingTime > 0) {
                        const days = Math.floor(info.remainingTime / (60 * 60 * 24));
                        const hours = Math.floor((info.remainingTime % (60 * 60 * 24)) / (60 * 60));
                        const minutes = Math.floor((info.remainingTime % (60 * 60)) / 60);
                        
                        document.getElementById('presaleTimer').textContent = 
                            `${days}d ${hours}h ${minutes}m rimanenti`;
                    } else {
                        document.getElementById('presaleTimer').textContent = '';
                    }
                    
                } catch (error) {
                    console.error('Errore nel recupero info presale:', error);
                }
            }
            
            // Formatta data
            function formatDate(date) {
                return date.toLocaleDateString() + ' ' + 
                       date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            }
            
            // Mostra messaggio di stato
            function showStatus(message, type) {
                statusElement.textContent = message;
                statusElement.className = 'mt-4 p-3 rounded';
                
                if (type === 'error') {
                    statusElement.classList.add('bg-red-500', 'text-white');
                } else if (type === 'success') {
                    statusElement.classList.add('bg-green-500', 'text-white');
                } else {
                    statusElement.classList.add('bg-purple-600', 'text-white');
                }
                
                statusElement.classList.remove('hidden');
            }
        });
    </script>
</body>
</html> 
